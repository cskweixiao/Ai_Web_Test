# ⚡ 性能优化配置文件
# 复制这些配置到 .env 文件中可以加速测试执行

# 1️⃣ Playwright 性能优化
PLAYWRIGHT_HEADLESS=true                    # 无头模式更快
PLAYWRIGHT_DISABLE_IMAGES=true              # 禁用图片加载（大幅提速）
PLAYWRIGHT_DISABLE_CSS=false                # 保留CSS（影响元素定位）
PLAYWRIGHT_TIMEOUT=10000                    # 全局超时10秒
PLAYWRIGHT_NAV_TIMEOUT=15000                # 页面导航超时15秒

# 2️⃣ 测试执行优化
PERFORMANCE_MODE=fast                       # 性能模式: fast | balanced | stable
ENABLE_PERFORMANCE_MONITORING=true          # 启用性能监控
MAX_CONCURRENCY=3                          # 最大并发测试数（谨慎提高）
TASK_TIMEOUT=180000                        # 任务超时3分钟

# 3️⃣ 元素等待时间优化（减少不必要等待）
DEFAULT_WAIT_TIMEOUT=2000                  # 默认等待2秒（原3秒）
ELEMENT_VISIBLE_TIMEOUT=3000               # 元素可见等待3秒（原5秒）
NEW_TAB_DETECT_TIMEOUT=800                 # 新页签检测800ms（原1200ms）

# 4️⃣ AI模型优化
AI_MODEL_PROVIDER=anthropic                 # 使用更快的模型
AI_MODEL_NAME=claude-3-5-sonnet-20241022   # 或使用 haiku（更快但精度略低）
AI_MAX_TOKENS=2000                         # 限制响应长度加速

# 5️⃣ 日志优化
LOG_LEVEL=warn                             # 减少日志输出提升性能
ENABLE_STEP_SCREENSHOTS=false              # 禁用每步截图（仅失败时截图）
ENABLE_VIDEO_RECORDING=false               # 禁用视频录制

# 6️⃣ 数据库优化
DATABASE_CONNECTION_LIMIT=20               # 增加连接池
ENABLE_QUERY_LOGGING=false                 # 关闭查询日志

# 建议配置组合：
# - 快速模式: PERFORMANCE_MODE=fast + PLAYWRIGHT_DISABLE_IMAGES=true + DEFAULT_WAIT_TIMEOUT=1500
# - 平衡模式: PERFORMANCE_MODE=balanced（当前默认）
# - 稳定模式: PERFORMANCE_MODE=stable + 所有timeout加倍
