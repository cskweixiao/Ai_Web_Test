# ğŸš€ Ai Web Test æ™ºèƒ½è§£æå¼•æ“å‡çº§éœ€æ±‚æ–‡æ¡£

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**é¡¹ç›®åç§°ï¼š** Ai Web Test è‡ªåŠ¨åŒ–æµ‹è¯•å¹³å°æ™ºèƒ½è§£æå¼•æ“å‡çº§  
**ç‰ˆæœ¬ï¼š** v2.0  
**æ—¥æœŸï¼š** 2025-01-28  
**è´Ÿè´£äººï¼š** ç”¨æˆ· + Claude Code  

## ğŸ¯ å‡çº§ç›®æ ‡

å°†ç°æœ‰çš„åŸºäºè§„åˆ™åŒ¹é…çš„ `aiParser.ts` å‡çº§ä¸ºåŸºäºå¤§æ¨¡å‹çš„æ™ºèƒ½è§£æå¼•æ“ï¼Œæ”¯æŒå®Œæ•´çš„ Web è‡ªåŠ¨åŒ–æµ‹è¯•æ“ä½œé›†ï¼Œä»å½“å‰çš„ 40-50% åœºæ™¯è¦†ç›–ç‡æå‡åˆ° 85-90%ã€‚

## ğŸ“Š å½“å‰ç³»ç»Ÿåˆ†æ

### **ç°çŠ¶é—®é¢˜ï¼š**
1. **AIè§£æèƒ½åŠ›ä¸è¶³** - åªæœ‰ç®€å•çš„ `if/else` è§„åˆ™åŒ¹é…
2. **æ“ä½œç±»å‹æœ‰é™** - ä»…æ”¯æŒå¯¼èˆªã€ç‚¹å‡»ã€è¾“å…¥ã€ç­‰å¾… 4 ç§åŸºç¡€æ“ä½œ
3. **è‡ªç„¶è¯­è¨€ç†è§£å·®** - æ— æ³•å¤„ç†å¤æ‚çš„ç”¨æˆ·æŒ‡ä»¤
4. **æ‰§è¡ŒæˆåŠŸç‡ä½** - å¯¼èˆªåç»å¸¸æ‰¾ä¸åˆ°å…ƒç´ ï¼Œåç»­æ“ä½œä¸­æ–­
5. **ç¼ºå°‘ä¸Šä¸‹æ–‡æ„ŸçŸ¥** - æ¯ä¸ªæ­¥éª¤ç‹¬ç«‹è§£æï¼Œæ— æ•´ä½“ç†è§£

### **æ ¸å¿ƒæ‰§è¡Œé—®é¢˜ï¼ˆéœ€è¦ä¼˜å…ˆè§£å†³ï¼‰ï¼š**
6. **æ‰§è¡Œä¸­æ–­é—®é¢˜** - å¯¼èˆªåæ‰¾ä¸åˆ°å…ƒç´ ï¼Œæ•´ä¸ªæµ‹è¯•æµç¨‹ç›´æ¥ç»ˆæ­¢
7. **è™šå‡æˆåŠŸçŠ¶æ€** - æ—¥å¿—æ˜¾ç¤ºæ‰§è¡ŒæˆåŠŸä½†å®é™…æ“ä½œæœªç”Ÿæ•ˆ
8. **å®¹é”™æ€§å·®** - ä»»ä½•ä¸€æ­¥å¤±è´¥å°±ä¸­æ–­ï¼Œæ²¡æœ‰æ™ºèƒ½é‡è¯•æœºåˆ¶
9. **é¡µé¢åŠ è½½æ£€æµ‹ä¸å®Œå–„** - å¯¼èˆªåç«‹å³æ“ä½œï¼Œå…ƒç´ å¯èƒ½æœªåŠ è½½å®Œæˆ
10. **æ“ä½œæ•ˆæœéªŒè¯ç¼ºå¤±** - æ— æ³•ç¡®è®¤æ“ä½œæ˜¯å¦çœŸæ­£ç”Ÿæ•ˆ

### **æŠ€æœ¯å€ºåŠ¡ï¼š**
- `aiParser.ts:192-246` çš„ `generateMCPCommand` æ–¹æ³•å…¨æ˜¯ç¡¬ç¼–ç è§„åˆ™
- å‰ç«¯æœ‰å®Œæ•´çš„ LLM é…ç½®ç•Œé¢ä½†åç«¯æœªä½¿ç”¨
- å…ƒç´ å®šä½ç­–ç•¥è¿‡äºç®€å•ï¼Œå®¹é”™æ€§å·®
- `testExecution.ts:229-244` é”™è¯¯å¤„ç†è¿‡äºä¸¥æ ¼ï¼Œç¼ºå°‘å®¹é”™æœºåˆ¶
- MCPæ“ä½œæˆåŠŸçŠ¶æ€åˆ¤æ–­ä¸å‡†ç¡®ï¼Œç¼ºå°‘å®é™…æ•ˆæœéªŒè¯

## ğŸ”§ æŠ€æœ¯è§£å†³æ–¹æ¡ˆ

### **æ–¹æ¡ˆé€‰æ‹©ï¼šæ¸è¿›å¼å‡çº§ï¼ˆé£é™©å¯æ§ï¼‰**

**å‡çº§ç­–ç•¥ï¼š**
```
å¤§æ¨¡å‹æ™ºèƒ½è§£æ (ä¼˜å…ˆ)
    â†“ å¤±è´¥æ—¶
å¤šç­–ç•¥æ™ºèƒ½é‡è¯• (å®¹é”™)
    â†“ å¤±è´¥æ—¶
å¢å¼ºè§„åˆ™åŒ¹é… (é™çº§)
    â†“ å¤±è´¥æ—¶  
ç”¨æˆ·æç¤ºä»‹å…¥ (å…œåº•)
```

**æ‰§è¡Œç¨³å®šæ€§ä¼˜åŒ–ç­–ç•¥ï¼š**
```
é¡µé¢å®Œå…¨åŠ è½½æ£€æµ‹
    â†“
æ™ºèƒ½å…ƒç´ ç­‰å¾…æœºåˆ¶
    â†“
å¤šé‡éªŒè¯ç¡®ä¿æ“ä½œç”Ÿæ•ˆ
    â†“
å¤±è´¥æ—¶è‡ªåŠ¨é‡è¯•å’Œé™çº§
```

### **æ ¸å¿ƒæ”¹åŠ¨èŒƒå›´ï¼š**

1. **ä¸»è¦ä¿®æ”¹æ–‡ä»¶ï¼š**
   - `server/services/aiParser.ts` - æ ¸å¿ƒè§£æé€»è¾‘é‡æ„
   - `server/services/testExecution.ts` - æ‰§è¡Œç¨³å®šæ€§å’Œå®¹é”™æœºåˆ¶é‡æ„
   - `server/services/mcpClient.ts` - æ“ä½œæ•ˆæœéªŒè¯å¢å¼º
   - `server/index.ts` - æœåŠ¡åˆå§‹åŒ–é…ç½®

2. **ä¿æŒä¸å˜ï¼š**
   - æ•´ä½“ç³»ç»Ÿæ¶æ„
   - MCP + Playwright æŠ€æœ¯æ ˆ
   - WebSocket å®æ—¶é€šä¿¡
   - å‰ç«¯ç•Œé¢å’Œäº¤äº’

## ğŸ“‹ å®Œæ•´æ“ä½œæ”¯æŒåˆ—è¡¨

### **é¡µé¢å¯¼èˆªç±» (7ç§)**
- `browser_navigate` - å¯¼èˆªåˆ°é¡µé¢
- `browser_back` - åé€€
- `browser_forward` - å‰è¿›
- `browser_refresh` - åˆ·æ–°é¡µé¢
- `browser_new_tab` - æ–°å»ºæ ‡ç­¾é¡µ
- `browser_close_tab` - å…³é—­æ ‡ç­¾é¡µ
- `browser_switch_tab` - åˆ‡æ¢æ ‡ç­¾é¡µ

### **å…ƒç´ äº¤äº’ç±» (12ç§)**
- `browser_click` - ç‚¹å‡»å…ƒç´ 
- `browser_double_click` - åŒå‡»å…ƒç´ 
- `browser_right_click` - å³é”®ç‚¹å‡»
- `browser_type` - è¾“å…¥æ–‡æœ¬
- `browser_clear` - æ¸…ç©ºè¾“å…¥æ¡†
- `browser_hover` - æ‚¬åœå…ƒç´ 
- `browser_focus` - èšç„¦å…ƒç´ 
- `browser_blur` - å¤±ç„¦å…ƒç´ 

### **è¡¨å•æ“ä½œç±» (8ç§)**
- `browser_select_option` - ä¸‹æ‹‰æ¡†é€‰æ‹©
- `browser_check` - å‹¾é€‰å¤é€‰æ¡†
- `browser_uncheck` - å–æ¶ˆå‹¾é€‰
- `browser_upload_file` - æ–‡ä»¶ä¸Šä¼ 
- `browser_drag_and_drop` - æ‹–æ‹½æ“ä½œ

### **é¡µé¢æ»šåŠ¨ç±» (6ç§)**
- `browser_scroll_down` - å‘ä¸‹æ»šåŠ¨
- `browser_scroll_up` - å‘ä¸Šæ»šåŠ¨
- `browser_scroll_to_top` - æ»šåŠ¨åˆ°é¡¶éƒ¨
- `browser_scroll_to_bottom` - æ»šåŠ¨åˆ°åº•éƒ¨
- `browser_scroll_to_element` - æ»šåŠ¨åˆ°æŒ‡å®šå…ƒç´ 
- `browser_scroll_by` - æŒ‰åƒç´ æ»šåŠ¨

### **é”®ç›˜æ“ä½œç±» (5ç§)**
- `browser_press_key` - æŒ‰é”®
- `browser_key_combination` - ç»„åˆé”® (Ctrl+C, Ctrl+Vç­‰)
- `browser_type_with_delay` - å»¶è¿Ÿè¾“å…¥

### **ç­‰å¾…éªŒè¯ç±» (8ç§)**
- `browser_wait_for` - ç­‰å¾…æ—¶é—´
- `browser_wait_for_element` - ç­‰å¾…å…ƒç´ å‡ºç°
- `browser_wait_for_text` - ç­‰å¾…æ–‡æœ¬å‡ºç°
- `browser_wait_for_url` - ç­‰å¾…URLå˜åŒ–
- `browser_wait_for_load` - ç­‰å¾…é¡µé¢åŠ è½½å®Œæˆ

### **æ–­è¨€éªŒè¯ç±» (7ç§)**
- `browser_assert_text` - éªŒè¯æ–‡æœ¬å­˜åœ¨
- `browser_assert_element` - éªŒè¯å…ƒç´ å­˜åœ¨
- `browser_assert_url` - éªŒè¯URL
- `browser_assert_title` - éªŒè¯é¡µé¢æ ‡é¢˜
- `browser_assert_attribute` - éªŒè¯å…ƒç´ å±æ€§

### **æˆªå›¾è°ƒè¯•ç±» (4ç§)**
- `browser_screenshot` - æˆªå›¾
- `browser_screenshot_element` - å…ƒç´ æˆªå›¾
- `browser_get_text` - è·å–å…ƒç´ æ–‡æœ¬
- `browser_get_attribute` - è·å–å…ƒç´ å±æ€§

**æ€»è®¡ï¼šä» 5 ç§æ“ä½œæ‰©å±•åˆ° 53 ç§æ“ä½œ**

## ğŸ§  å¤§æ¨¡å‹é›†æˆæ–¹æ¡ˆ

### **APIé…ç½®ï¼š**
```typescript
interface LLMConfig {
  apiKey: string;           // OpenRouter API Key
  baseUrl: string;          // 'https://openrouter.ai/api/v1'
  model: string;            // 'anthropic/claude-3.5-sonnet'
  temperature: number;      // 0.1 (ä½æ¸©åº¦ç¡®ä¿ç¨³å®š)
  maxTokens: number;        // 400
}
```

### **è°ƒç”¨æµç¨‹ï¼š**
```
ç”¨æˆ·æŒ‡ä»¤ + é¡µé¢å¿«ç…§
    â†“
æ™ºèƒ½æç¤ºè¯æ„å»º
    â†“
å¤§æ¨¡å‹APIè°ƒç”¨
    â†“
å“åº”è§£æå’ŒéªŒè¯
    â†“
MCPå‘½ä»¤ç”Ÿæˆ
```

### **æç¤ºè¯è®¾è®¡æ¡†æ¶ï¼š**

**ç³»ç»Ÿè§’è‰²å®šä¹‰ï¼š**
- èº«ä»½ï¼šä¸“ä¸šçš„Webè‡ªåŠ¨åŒ–æµ‹è¯•ä¸“å®¶
- ä»»åŠ¡ï¼šå°†è‡ªç„¶è¯­è¨€è½¬æ¢ä¸ºç²¾ç¡®çš„MCPå‘½ä»¤
- çº¦æŸï¼šä¸¥æ ¼çš„JSONæ ¼å¼è¾“å‡º

**æ“ä½œæ˜ å°„çŸ¥è¯†åº“ï¼š**
- å®Œæ•´çš„53ç§MCPå·¥å…·è¯´æ˜
- å‚æ•°æ ¼å¼å’Œä½¿ç”¨ç¤ºä¾‹
- æ™ºèƒ½è¯†åˆ«è§„åˆ™å’Œç­–ç•¥

**ä¸Šä¸‹æ–‡åˆ†æèƒ½åŠ›ï¼š**
- é¡µé¢ç»“æ„ç†è§£ï¼ˆè¡¨å•ã€åˆ—è¡¨ã€è¯¦æƒ…é¡µï¼‰
- å…ƒç´ å…³ç³»æ¨ç†ï¼ˆçˆ¶å­ã€åŒçº§ã€åŠŸèƒ½å…³è”ï¼‰
- æ“ä½œåºåˆ—ç†è§£ï¼ˆç™»å½•æµç¨‹ã€è´­ä¹°æµç¨‹ï¼‰
- æˆªå›¾æ•°æ®åˆ†æï¼ˆæ¯æ­¥æ‰§è¡Œç»“æœçš„è§†è§‰éªŒè¯ï¼‰

## ğŸ”„ æ ¸å¿ƒä»£ç æ”¹åŠ¨è®¡åˆ’

### **1. AITestParser ç±»é‡æ„**

**æ–‡ä»¶ï¼š** `server/services/aiParser.ts`

**ä¸»è¦ä¿®æ”¹ï¼š**
```typescript
// æ·»åŠ LLMé…ç½®æ”¯æŒ
constructor(mcpClient: PlaywrightMcpClient, llmConfig?: LLMConfig)

// é‡å†™æ ¸å¿ƒæ–¹æ³•
private async generateMCPCommand(stepDescription: string, snapshot: any): Promise<MCPCommand>

// æ–°å¢æ ¸å¿ƒæ–¹æ³•
private async callLLM(prompt: string): Promise<string>
private buildSmartPrompt(stepDescription: string, pageContext: any): string  
private extractPageContext(snapshot: string): PageContext
private parseLLMResponse(llmResponse: string): MCPCommand
private validateMCPArguments(toolName: string, args: any): void
private fallbackToRuleBasedParsing(stepDescription: string): MCPCommand
```

### **2. TestExecution æ‰§è¡Œç¨³å®šæ€§é‡æ„**

**æ–‡ä»¶ï¼š** `server/services/testExecution.ts`

**å…³é”®ä¿®æ”¹ï¼š**
```typescript
// é‡æ„æ‰§è¡Œæµç¨‹ - å¢åŠ å®¹é”™æœºåˆ¶
private async executeStepWithRetryAndFallback(step: TestStep, runId: string): Promise<ExecutionResult>

// å¢å¼ºé¡µé¢åŠ è½½æ£€æµ‹
private async waitForPageFullyLoaded(runId: string): Promise<void>

// æ“ä½œæ•ˆæœéªŒè¯
private async verifyOperationSuccess(step: TestStep, runId: string): Promise<boolean>

// æ™ºèƒ½é‡è¯•ç­–ç•¥
private async retryWithDifferentStrategies(step: TestStep, runId: string): Promise<ExecutionResult>

// MCPè¿æ¥å¥åº·æ£€æŸ¥
private async ensureMcpConnectionHealth(runId: string): Promise<void>
```

### **3. MCPå®¢æˆ·ç«¯æ“ä½œéªŒè¯å¢å¼º**

**æ–‡ä»¶ï¼š** `server/services/mcpClient.ts`

**å…³é”®ä¿®æ”¹ï¼š**
```typescript
// æ“ä½œåçŠ¶æ€éªŒè¯
private async verifyOperationEffect(operation: string, targetRef: string): Promise<boolean>

// é¡µé¢ç¨³å®šæ€§æ£€æµ‹
private async waitForPageStability(runId: string): Promise<void>

// å…ƒç´ å¯äº¤äº’æ€§éªŒè¯
private async ensureElementInteractable(elementRef: string): Promise<boolean>
```

### **4. é¡µé¢ç†è§£å¢å¼º**

**ä»ç®€å•æ–‡æœ¬è§£æ â†’ ç»“æ„åŒ–é¡µé¢åˆ†æï¼š**
```typescript
interface PageContext {
  pageInfo: {
    url: string;
    title: string;
  };
  availableElements: Array<{
    ref: string;
    role: string;
    text: string;
    options?: string[];  // ä¸‹æ‹‰æ¡†é€‰é¡¹
    importance: number;
  }>;
  pageFeatures: {
    hasFormElements: boolean;
    hasSelectBoxes: boolean;
    hasLongContent: boolean;
    elementCount: number;
  };
}
```

### **5. æ™ºèƒ½å®¹é”™æœºåˆ¶**

**å¤šå±‚æ¬¡æ‰§è¡Œç­–ç•¥ï¼š**
```typescript
async executeWithFallback(step: TestStep, runId: string) {
  const strategies = [
    () => this.smartLLMParsing(step, pageSnapshot),
    () => this.enhancedRuleMatching(step),
    () => this.basicRuleMatching(step)
  ];
  
  for (const strategy of strategies) {
    try {
      const result = await strategy();
      if (result.success) return result;
    } catch (error) {
      console.warn(`ç­–ç•¥å¤±è´¥ï¼Œå°è¯•ä¸‹ä¸€ä¸ª: ${error.message}`);
    }
  }
  
  throw new Error('æ‰€æœ‰è§£æç­–ç•¥éƒ½å¤±è´¥');
}
```

## ğŸ“ è‡ªç„¶è¯­è¨€æŒ‡ä»¤ç¤ºä¾‹

### **æ»šåŠ¨æ“ä½œï¼š**
```
"å‘ä¸‹æ»šåŠ¨é¡µé¢" â†’ {"name": "browser_scroll_down", "arguments": {"pixels": 500}}
"æ»šåŠ¨åˆ°é¡µé¢åº•éƒ¨" â†’ {"name": "browser_scroll_to_bottom", "arguments": {}}
"æ»šåŠ¨åˆ°æœç´¢æ¡†ä½ç½®" â†’ {"name": "browser_scroll_to_element", "arguments": {"ref": "search_input"}}
```

### **è¡¨å•æ“ä½œï¼š**
```
"é€‰æ‹©åŸå¸‚ä¸‹æ‹‰æ¡†ä¸­çš„åŒ—äº¬" â†’ {"name": "browser_select_option", "arguments": {"ref": "city_select", "value": "åŒ—äº¬"}}
"å‹¾é€‰åŒæ„åè®®çš„å¤é€‰æ¡†" â†’ {"name": "browser_check", "arguments": {"ref": "agreement_checkbox"}}
"åœ¨ç”¨æˆ·åè¾“å…¥æ¡†è¾“å…¥admin" â†’ {"name": "browser_type", "arguments": {"ref": "username_input", "text": "admin"}}
```

### **é”®ç›˜å’Œç­‰å¾…ï¼š**
```
"æŒ‰å›è½¦é”®æäº¤" â†’ {"name": "browser_press_key", "arguments": {"key": "Enter"}}
"æŒ‰Ctrl+Aå…¨é€‰æ–‡æœ¬" â†’ {"name": "browser_key_combination", "arguments": {"keys": ["Ctrl", "A"]}}
"ç­‰å¾…ç™»å½•æˆåŠŸé¡µé¢å‡ºç°" â†’ {"name": "browser_wait_for_text", "arguments": {"text": "ç™»å½•æˆåŠŸ", "timeout": 10000}}
```

### **éªŒè¯æ“ä½œï¼š**
```
"éªŒè¯é¡µé¢æ ‡é¢˜åŒ…å«ç”¨æˆ·ä¸­å¿ƒ" â†’ {"name": "browser_assert_title", "arguments": {"expected_title": "*ç”¨æˆ·ä¸­å¿ƒ*"}}
"æ£€æŸ¥æäº¤æŒ‰é’®æ˜¯å¦å¯è§" â†’ {"name": "browser_assert_element", "arguments": {"ref": "submit_btn", "condition": "visible"}}
```

## ğŸ“Š é¢„æœŸæ•ˆæœæŒ‡æ ‡

### **é‡åŒ–æå‡ç›®æ ‡ï¼š**

| æŒ‡æ ‡ | å½“å‰çŠ¶æ€ | ç›®æ ‡çŠ¶æ€ | æå‡å¹…åº¦ |
|------|----------|----------|----------|
| æŒ‡ä»¤ç†è§£å‡†ç¡®ç‡ | 60% | 90% | +50% |
| æ“ä½œç±»å‹è¦†ç›– | 5ç§ | 53ç§ | +960% |
| å¤æ‚åœºæ™¯æˆåŠŸç‡ | 30% | 80% | +167% |
| æ‰§è¡Œç¨³å®šæ€§ | 40% | 85% | +113% |

### **ç”¨æˆ·ä½“éªŒæå‡ï¼š**
- âœ… æ”¯æŒè‡ªç„¶è¯­è¨€æè¿°å¤æ‚æ“ä½œåºåˆ—
- âœ… æ™ºèƒ½ç†è§£é¡µé¢ç»“æ„å’Œå…ƒç´ å…³ç³»  
- âœ… è‡ªåŠ¨å¤„ç†å¸¸è§çš„äº¤äº’åœºæ™¯
- âœ… æä¾›è¯¦ç»†çš„é”™è¯¯æç¤ºå’Œå»ºè®®
- âœ… æ¯æ­¥æ‰§è¡Œè‡ªåŠ¨æˆªå›¾ï¼Œå®Œæ•´è®°å½•æµ‹è¯•è¿‡ç¨‹
- âœ… æˆªå›¾æ•°æ®åº“å­˜å‚¨ï¼Œä¾¿äºé—®é¢˜è¿½æº¯å’Œåˆ†æ

## ğŸš€ å®æ–½è®¡åˆ’

### **Phase 1: æ‰§è¡Œç¨³å®šæ€§ä¿®å¤ (é¢„è®¡1å¤©) - ä¼˜å…ˆçº§æœ€é«˜**
- ä¿®å¤æ‰§è¡Œä¸­æ–­é—®é¢˜ï¼šå¢åŠ é‡è¯•å’Œå®¹é”™æœºåˆ¶
- ä¿®å¤è™šå‡æˆåŠŸçŠ¶æ€ï¼šå¢åŠ æ“ä½œæ•ˆæœéªŒè¯
- å®Œå–„é¡µé¢åŠ è½½æ£€æµ‹ï¼šç¡®ä¿å…ƒç´ å®Œå…¨åŠ è½½åå†æ“ä½œ
- æµ‹è¯•åŸºç¡€æ‰§è¡Œæµç¨‹ç¨³å®šæ€§

### **Phase 2: å¤§æ¨¡å‹æ™ºèƒ½è§£æé›†æˆ (é¢„è®¡1-2å¤©)**
- é›†æˆå¤§æ¨¡å‹APIè°ƒç”¨é€»è¾‘
- é‡å†™ `generateMCPCommand` æ–¹æ³•
- å®ç°åŸºç¡€çš„æ™ºèƒ½è§£æèƒ½åŠ›
- æµ‹è¯•æ ¸å¿ƒåŠŸèƒ½æ˜¯å¦æ­£å¸¸

### **Phase 3: æ“ä½œæ‰©å±• (é¢„è®¡2-3å¤©)**
- æ·»åŠ å®Œæ•´çš„53ç§MCPå·¥å…·æ”¯æŒ
- å®ç°é¡µé¢ç»“æ„åŒ–åˆ†æ
- å®Œå–„æç¤ºè¯å·¥ç¨‹
- å¢åŠ å‚æ•°éªŒè¯æœºåˆ¶

### **Phase 4: æ™ºèƒ½ä¼˜åŒ– (é¢„è®¡2-3å¤©)**
- ä¼˜åŒ–ä¸Šä¸‹æ–‡ç†è§£èƒ½åŠ›
- å®Œå–„é«˜çº§å®¹é”™å’Œè‡ªæ„ˆæœºåˆ¶
- æ€§èƒ½ä¼˜åŒ–å’Œé”™è¯¯å¤„ç†
- å…¨é¢æµ‹è¯•å„ç§ä½¿ç”¨åœºæ™¯

### **Phase 5: ç”Ÿäº§çº§å®Œå–„ (æŒç»­)**
- è¾¹ç¼˜æƒ…å†µå¤„ç†
- ç”¨æˆ·åé¦ˆæ”¶é›†å’Œä¼˜åŒ–
- æ€§èƒ½ç›‘æ§å’Œæ”¹è¿›

## ğŸ”§ å¼€å‘ç¯å¢ƒå‡†å¤‡

### **å¿…éœ€èµ„æºï¼š**
1. **OpenRouter API Key** - ç”¨äºè°ƒç”¨å¤§æ¨¡å‹
2. **æµ‹è¯•ç”¨ä¾‹é›†** - éªŒè¯å„ç§æ“ä½œåœºæ™¯
3. **é¡µé¢å¿«ç…§æ ·æœ¬** - ç”¨äºæç¤ºè¯ä¼˜åŒ–

### **é…ç½®ä¿¡æ¯ï¼š**
```typescript
const llmConfig = {
  apiKey: 'YOUR_OPENROUTER_API_KEY',
  baseUrl: 'https://openrouter.ai/api/v1',
  model: 'anthropic/claude-3.5-sonnet',
  temperature: 0.1,
  maxTokens: 400
};
```

## ğŸ“š æŠ€æœ¯é£é™©è¯„ä¼°

### **é£é™©ç­‰çº§ï¼šä¸­ä½**

**ä¸»è¦é£é™©ï¼š**
1. **å¤§æ¨¡å‹å“åº”ç¨³å®šæ€§** - å¶å°”è¿”å›æ ¼å¼é”™è¯¯
   - ç¼“è§£ï¼šä¸¥æ ¼çš„å“åº”éªŒè¯ + é™çº§æœºåˆ¶

2. **APIè°ƒç”¨å»¶è¿Ÿ** - å½±å“æ‰§è¡Œé€Ÿåº¦
   - ç¼“è§£ï¼šåˆç†çš„è¶…æ—¶è®¾ç½® + ç¼“å­˜ç­–ç•¥

3. **Tokenæ¶ˆè€—æˆæœ¬** - å¤§é‡ä½¿ç”¨çš„æˆæœ¬é—®é¢˜
   - ç¼“è§£ï¼šä¼˜åŒ–æç¤ºè¯é•¿åº¦ + æ™ºèƒ½ç¼“å­˜

**æˆåŠŸå…³é”®å› ç´ ï¼š**
- é«˜è´¨é‡çš„æç¤ºè¯å·¥ç¨‹
- å®Œå–„çš„å®¹é”™æœºåˆ¶
- æŒç»­çš„ä¼˜åŒ–è¿­ä»£

---

## ğŸ¯ å¦‚ä½•ä½¿ç”¨æ­¤æ–‡æ¡£è¿›è¡Œä¼˜åŒ–

**æ˜å¤©å¼€å§‹ä¼˜åŒ–æ—¶ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤ï¼š**

1. **è¯»å–éœ€æ±‚** - å°†æ­¤MDæ–‡ä»¶å†…å®¹ä½œä¸ºå®Œæ•´éœ€æ±‚è§„æ ¼
2. **ç¡®è®¤APIé…ç½®** - æä¾›OpenRouter API Keyå’Œæ¨¡å‹åå¥½
3. **é€æ­¥å®æ–½** - æŒ‰Phase 1-4çš„é¡ºåºè¿›è¡Œå¼€å‘
4. **æµ‹è¯•éªŒè¯** - ä½¿ç”¨æ–‡æ¡£ä¸­çš„ç¤ºä¾‹æŒ‡ä»¤è¿›è¡Œæµ‹è¯•
5. **æŒç»­ä¼˜åŒ–** - æ ¹æ®å®é™…æ•ˆæœè°ƒæ•´æç¤ºè¯å’Œé€»è¾‘

**å¼€å§‹ä¼˜åŒ–çš„å‘½ä»¤ï¼š**
```
"è¯·æ ¹æ®æˆ‘ä¹‹å‰æä¾›çš„éœ€æ±‚æ–‡æ¡£ï¼Œå¼€å§‹ä¼˜åŒ–æˆ‘çš„Ai Web Testæ™ºèƒ½è§£æå¼•æ“ã€‚ä»Phase 1å¼€å§‹ï¼Œä¼˜å…ˆä¿®å¤æ‰§è¡Œç¨³å®šæ€§é—®é¢˜ã€‚"
```

## ğŸ”¥ å…³é”®ä¿®å¤é‡ç‚¹

### **ç«‹å³éœ€è¦è§£å†³çš„æ ¸å¿ƒé—®é¢˜ï¼š**

1. **æ‰§è¡Œä¸­æ–­ä¿®å¤**
   - ä½ç½®ï¼š`testExecution.ts:229-244`
   - é—®é¢˜ï¼šä»»ä½•æ­¥éª¤å¤±è´¥å°±ç›´æ¥ `return`ï¼Œä¸­æ–­æ•´ä¸ªæµç¨‹
   - è§£å†³ï¼šå¢åŠ é‡è¯•æœºåˆ¶å’Œå®¹é”™ç­–ç•¥

2. **è™šå‡æˆåŠŸçŠ¶æ€ä¿®å¤**
   - ä½ç½®ï¼š`testExecution.ts:237`
   - é—®é¢˜ï¼šæ—¥å¿—æ˜¾ç¤ºæˆåŠŸä½†æ“ä½œå®é™…æœªç”Ÿæ•ˆ
   - è§£å†³ï¼šå¢åŠ æ“ä½œæ•ˆæœéªŒè¯æœºåˆ¶

3. **é¡µé¢åŠ è½½æ£€æµ‹å®Œå–„**
   - ä½ç½®ï¼šå¯¼èˆªæ“ä½œåç«‹å³æ‰§è¡Œä¸‹ä¸€æ­¥
   - é—®é¢˜ï¼šå…ƒç´ å¯èƒ½æœªå®Œå…¨åŠ è½½
   - è§£å†³ï¼šæ™ºèƒ½ç­‰å¾…æœºåˆ¶å’Œå…ƒç´ å¯ç”¨æ€§æ£€æµ‹

### **ä¿®å¤ä¼˜å…ˆçº§ï¼š**
```
Phase 1 (æ‰§è¡Œç¨³å®šæ€§) > Phase 2 (å¤§æ¨¡å‹é›†æˆ) > Phase 3+ (åŠŸèƒ½æ‰©å±•)
```

**åªæœ‰å…ˆè§£å†³åŸºç¡€æ‰§è¡Œé—®é¢˜ï¼Œå¤§æ¨¡å‹æ™ºèƒ½è§£ææ‰èƒ½å‘æŒ¥çœŸæ­£çš„ä»·å€¼ï¼**